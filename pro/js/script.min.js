"use strict";var text="En    un lugar     de la Mancha, de cuyo nombre no quiero acordarme, \nno ha mucho tiempo que vivía un hidalgo de los de lanza en astillero, \nadarga antigua, rocín flaco y galgo corredor. Una olla de algo más vaca que carnero, \nsalpicón las más noches, duelos y quebrantos los sábados, lantejas los viernes, algún palomino de \nañadidura los domingos, consumían las tres partes de su hacienda.",normalizeText=function(e){return e.toLowerCase().replace(/[.!,)(\n]/g,"")},capitalizeText=function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)},grammarNumber=function(e){return"1"===e.toString()?"vez":"veces"};function arrayFormSelector(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t]);return n}function printEnunc(e){var n=document.querySelector("button"),t=document.createElement("div");t.className="main",t.innerHTML='<h1>Comprobar las veces que se repite cada\n    palabra en el siguiente texto:</h1> <p>"'.concat(e,'"</p>'),n.insertAdjacentElement("beforebegin",t)}function repeatWordInText(e){var e=e.split(" "),n={};return e.map(function(e){""!==(e=normalizeText(e))&&(n[e]?n[e]++:n[e]=1)}),n}function printResult(e,n){var t,a=repeatWordInText(e),r=document.createElement("ul"),o=0;for(t in a){var c=1===++o?"está":'" "',l=document.createElement("li");l.className="item item-".concat(o),l.innerHTML="<strong>".concat(t,"</strong> = \n        ").concat(c," ").concat(a[t]," ").concat(grammarNumber(a[t])),r.appendChild(l)}document.body.append(r),n(e)}function handleButton(){var e=document.querySelector("button");e.addEventListener("click",function(){printResult(text,handleClickInWord),e.setAttribute("disabled",!0)})}function handleClickInWord(t){var e=arrayFormSelector(document.querySelectorAll("ul li"));e.forEach(function(n){n.addEventListener("click",function(){var e=n.firstChild.textContent;markWord(t,e),setTimeout(function(){return animateScroll()},150)})})}function markWord(e,n){var t=capitalizeText(n),a=new RegExp("\\b"+n+"\\b","g"),r=new RegExp("\\b"+t+"\\b","g"),t=e.replaceAll(a,'<span class="mark">'.concat(n,"</span>")).replaceAll(r,'<span class="mark">'.concat(t,"</span>"));document.querySelector(".main p").innerHTML='"'.concat(t,'"')}function animateScroll(){var e=window.pageYOffset,n=setInterval(function(){moveScroll(e-=20,n)},10)}function moveScroll(e,n){0<e?window.scroll({left:0,top:e}):clearInterval(n)}document.addEventListener("DOMContentLoaded",function(){printEnunc(text),handleButton()});